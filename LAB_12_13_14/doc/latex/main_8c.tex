\hypertarget{main_8c}{}\doxysection{src/main.c File Reference}
\label{main_8c}\index{src/main.c@{src/main.c}}


Program implementing an application that controls the light intensity of a given region.  


{\ttfamily \#include $<$zephyr.\+h$>$}\newline
{\ttfamily \#include $<$device.\+h$>$}\newline
{\ttfamily \#include $<$drivers/gpio.\+h$>$}\newline
{\ttfamily \#include $<$drivers/pwm.\+h$>$}\newline
{\ttfamily \#include $<$sys/printk.\+h$>$}\newline
{\ttfamily \#include $<$sys/\+\_\+\+\_\+assert.\+h$>$}\newline
{\ttfamily \#include $<$string.\+h$>$}\newline
{\ttfamily \#include $<$timing/timing.\+h$>$}\newline
{\ttfamily \#include $<$stdlib.\+h$>$}\newline
{\ttfamily \#include $<$stdio.\+h$>$}\newline
{\ttfamily \#include $<$console/console.\+h$>$}\newline
{\ttfamily \#include $<$A\+D\+C.\+h$>$}\newline
{\ttfamily \#include $<$P\+I\+\_\+controller.\+h$>$}\newline
Include dependency graph for main.\+c\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{main_8c__incl}
\end{center}
\end{figure}
\doxysubsection*{Data Structures}
\begin{DoxyCompactItemize}
\item 
struct \mbox{\hyperlink{structbuffer}{buffer}}
\item 
struct \mbox{\hyperlink{structmemory}{memory}}
\item 
struct \mbox{\hyperlink{structCalendar}{Calendar}}
\end{DoxyCompactItemize}
\doxysubsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \mbox{\hyperlink{main_8c_a7829e7c5c37ea8a78e879aa2028dfb21}{S\+A\+M\+P\+\_\+\+P\+E\+R\+I\+O\+D\+\_\+\+MS}}~1000
\item 
\#define \mbox{\hyperlink{main_8c_ad6e9c4cab12b06864c5162252ca67014}{T\+I\+M\+E\+R\+\_\+\+P\+E\+R\+I\+O\+D\+\_\+\+MS}}~60000
\item 
\#define \mbox{\hyperlink{main_8c_a8187a9af791c0a44ba67edd9cf266961}{M\+A\+N\+U\+AL}}~0
\item 
\#define \mbox{\hyperlink{main_8c_a3851a1a8ddec9eacd2e30a8a19bb8cc8}{A\+U\+T\+O\+M\+A\+T\+IC}}~1
\item 
\#define \mbox{\hyperlink{main_8c_a3c302b6c124bfdb5a873e54a346b997a}{F\+I\+L\+T\+E\+R\+\_\+\+S\+I\+ZE}}~10
\item 
\#define \mbox{\hyperlink{main_8c_a2dcf8c45f945dd0c4301a94700f2112c}{M\+E\+M\+\_\+\+S\+I\+ZE}}~10
\item 
\#define \mbox{\hyperlink{main_8c_a6423a880df59733d2d9b509c7718d3a9}{S\+T\+A\+C\+K\+\_\+\+S\+I\+ZE}}~1024
\item 
\#define \mbox{\hyperlink{main_8c_ad3c05b8933cd253785fdd123f6dbfc18}{B\+O\+A\+R\+D\+B\+U\+T1}}~0xb
\item 
\#define \mbox{\hyperlink{main_8c_a590d906828bd5948fafbef47dc1c3b0c}{B\+O\+A\+R\+D\+B\+U\+T2}}~0xc
\item 
\#define \mbox{\hyperlink{main_8c_a2e82ac21050552495e5a8551178bf258}{B\+O\+A\+R\+D\+B\+U\+T3}}~0x18
\item 
\#define \mbox{\hyperlink{main_8c_abee96e1280405ff973ee2b6b07eec104}{B\+O\+A\+R\+D\+B\+U\+T4}}~0x19
\item 
\#define \mbox{\hyperlink{main_8c_a91585133db96440dc6b21718535c5e6b}{thread\+\_\+sampling\+\_\+prio}}~1
\item 
\#define \mbox{\hyperlink{main_8c_a5620c118b737fef676e57cb77cc36d64}{thread\+\_\+processing\+\_\+prio}}~1
\item 
\#define \mbox{\hyperlink{main_8c_ad74d90eda75d0ad6e39cbd57bd69f194}{thread\+\_\+actuation\+\_\+prio}}~1
\item 
\#define \mbox{\hyperlink{main_8c_a78c6fe0127b774897c218c031de92822}{thread\+\_\+timer\+\_\+prio}}~1
\item 
\#define \mbox{\hyperlink{main_8c_a8c3412660bfe383842b2e5cfd2311b7b}{thread\+\_\+interface\+\_\+prio}}~1
\item 
\#define \mbox{\hyperlink{main_8c_a4c0e6f34369bef1deb3a9efae6ac14fb}{G\+P\+I\+O0\+\_\+\+N\+ID}}~D\+T\+\_\+\+N\+O\+D\+E\+L\+A\+B\+EL(gpio0)
\item 
\#define \mbox{\hyperlink{main_8c_ab48b150a8660d0152dfde25b42c1755f}{P\+W\+M0\+\_\+\+N\+ID}}~D\+T\+\_\+\+N\+O\+D\+E\+L\+A\+B\+EL(pwm0)
\item 
\#define \mbox{\hyperlink{main_8c_af5a48adc9d939102a42f2829b7a1b8ac}{P\+W\+M\+\_\+\+P\+IN}}~0x0e
\end{DoxyCompactItemize}
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{main_8c_aed504b09e3fbdcd75329b4f263f87180}{K\+\_\+\+T\+H\+R\+E\+A\+D\+\_\+\+S\+T\+A\+C\+K\+\_\+\+D\+E\+F\+I\+NE}} (thread\+\_\+sampling\+\_\+stack, \mbox{\hyperlink{main_8c_a6423a880df59733d2d9b509c7718d3a9}{S\+T\+A\+C\+K\+\_\+\+S\+I\+ZE}})
\item 
\mbox{\hyperlink{main_8c_a60b0d6ae7ba79d10f65ff3dc5ecd1b4a}{K\+\_\+\+T\+H\+R\+E\+A\+D\+\_\+\+S\+T\+A\+C\+K\+\_\+\+D\+E\+F\+I\+NE}} (thread\+\_\+processing\+\_\+stack, \mbox{\hyperlink{main_8c_a6423a880df59733d2d9b509c7718d3a9}{S\+T\+A\+C\+K\+\_\+\+S\+I\+ZE}})
\item 
\mbox{\hyperlink{main_8c_a548d30e3288a3adc33006169b3023238}{K\+\_\+\+T\+H\+R\+E\+A\+D\+\_\+\+S\+T\+A\+C\+K\+\_\+\+D\+E\+F\+I\+NE}} (thread\+\_\+actuation\+\_\+stack, \mbox{\hyperlink{main_8c_a6423a880df59733d2d9b509c7718d3a9}{S\+T\+A\+C\+K\+\_\+\+S\+I\+ZE}})
\item 
\mbox{\hyperlink{main_8c_af4124be44857968ab478da5cf4830789}{K\+\_\+\+T\+H\+R\+E\+A\+D\+\_\+\+S\+T\+A\+C\+K\+\_\+\+D\+E\+F\+I\+NE}} (thread\+\_\+timer\+\_\+stack, \mbox{\hyperlink{main_8c_a6423a880df59733d2d9b509c7718d3a9}{S\+T\+A\+C\+K\+\_\+\+S\+I\+ZE}})
\item 
\mbox{\hyperlink{main_8c_a74e081acfd5bb89595459f375532975f}{K\+\_\+\+T\+H\+R\+E\+A\+D\+\_\+\+S\+T\+A\+C\+K\+\_\+\+D\+E\+F\+I\+NE}} (thread\+\_\+interface\+\_\+stack, \mbox{\hyperlink{main_8c_a6423a880df59733d2d9b509c7718d3a9}{S\+T\+A\+C\+K\+\_\+\+S\+I\+ZE}})
\item 
void \mbox{\hyperlink{main_8c_a9dd5adc8098fcc8d9bd5eeb53ad776b3}{thread\+\_\+sampling}} (void $\ast$argA, void $\ast$argB, void $\ast$argC)
\begin{DoxyCompactList}\small\item\em Sampling thread. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{main_8c_ac6cd5cbb553e2ad23e28ad0a1074c8b0}{thread\+\_\+processing}} (void $\ast$argA, void $\ast$argB, void $\ast$argC)
\begin{DoxyCompactList}\small\item\em Processing thread. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{main_8c_a116f5dda3e3079992fc8cb4f8f59e11f}{thread\+\_\+actuation}} (void $\ast$argA, void $\ast$argB, void $\ast$argC)
\begin{DoxyCompactList}\small\item\em Actuation thread. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{main_8c_ad64b132dcdc592a77b0fb25967f3377a}{thread\+\_\+timer}} (void $\ast$argA, void $\ast$argB, void $\ast$argC)
\begin{DoxyCompactList}\small\item\em Timer thread to implement a calendar. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{main_8c_a570350429544cf99b11c32e1f6bf0b5a}{thread\+\_\+interface}} (void $\ast$argA, void $\ast$argB, void $\ast$argC)
\begin{DoxyCompactList}\small\item\em Thread to implement the user interface. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{main_8c_af310540093ee953c3018bc13bbde3da5}{read\+\_\+int}} ()
\begin{DoxyCompactList}\small\item\em Function to read integer values from user. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{main_8c_a68bb8c8a55e87d1d3e879f3186c08efc}{filter}} (int $\ast$data)
\begin{DoxyCompactList}\small\item\em Function to implement a digital filter. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{main_8c_ad080fc6eefeef84b6b9d1521a07ce96b}{array\+\_\+init}} (int $\ast$data, int size)
\begin{DoxyCompactList}\small\item\em Function to initialize integer array. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{main_8c_a2cfe3ada4d11f7cae109258730b290ae}{array\+\_\+average}} (int $\ast$data, int size)
\begin{DoxyCompactList}\small\item\em Function to compute the average of an array. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{main_8c_a0145d2779f99dabdb58535a77d802575}{input\+\_\+output\+\_\+config}} (void)
\begin{DoxyCompactList}\small\item\em Configuration Function. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{main_8c_a184a24e6ee12174ebd80e42c8f952cfd}{buttons\+\_\+cbfunction}} (const struct device $\ast$dev, struct gpio\+\_\+callback $\ast$cb, uint32\+\_\+t pins)
\begin{DoxyCompactList}\small\item\em Callback function of the interrupt from the four board buttons. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{main_8c_a6288eba0f8e8ad3ab1544ad731eb7667}{main}} (void)
\begin{DoxyCompactList}\small\item\em Main function. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
struct k\+\_\+thread \mbox{\hyperlink{main_8c_a0e7f1b0a6ba03822803b25f00d855550}{thread\+\_\+sampling\+\_\+data}}
\item 
struct k\+\_\+thread \mbox{\hyperlink{main_8c_a0d5266f8e4ee9131f1499bc89f35146a}{thread\+\_\+processing\+\_\+data}}
\item 
struct k\+\_\+thread \mbox{\hyperlink{main_8c_a9a0bf1249db244ace268c06987aa8bc3}{thread\+\_\+actuation\+\_\+data}}
\item 
struct k\+\_\+thread \mbox{\hyperlink{main_8c_a42ee5857ab68d7b608277ebfbdfcd873}{thread\+\_\+timer\+\_\+data}}
\item 
struct k\+\_\+thread \mbox{\hyperlink{main_8c_af6d2603321c94cea6aaf2350aabf3831}{thread\+\_\+interface\+\_\+data}}
\item 
k\+\_\+tid\+\_\+t \mbox{\hyperlink{main_8c_affec45d15496ae9963fe20d598aee1ef}{thread\+\_\+sampling\+\_\+tid}}
\item 
k\+\_\+tid\+\_\+t \mbox{\hyperlink{main_8c_ad695b944931709e9377a32f2f67579ae}{thread\+\_\+processing\+\_\+tid}}
\item 
k\+\_\+tid\+\_\+t \mbox{\hyperlink{main_8c_a3dec149768a6eae4f33afb78a0fba16a}{thread\+\_\+actuation\+\_\+tid}}
\item 
k\+\_\+tid\+\_\+t \mbox{\hyperlink{main_8c_a19ca028edd2bfa2ce623d094531be2a8}{thread\+\_\+timer\+\_\+tid}}
\item 
k\+\_\+tid\+\_\+t \mbox{\hyperlink{main_8c_a4f511736d4814efc5a2858ac5b0712f3}{thread\+\_\+interface\+\_\+tid}}
\item 
\mbox{\hyperlink{structbuffer}{buffer}} \mbox{\hyperlink{main_8c_a34b9caf9a2b0b317320608e2af144e86}{sample\+\_\+buffer}}
\item 
int \mbox{\hyperlink{main_8c_a1ea5d0cb93f22f7d0fdf804bd68c3326}{mode}} = \mbox{\hyperlink{main_8c_a8187a9af791c0a44ba67edd9cf266961}{M\+A\+N\+U\+AL}}
\item 
int \mbox{\hyperlink{main_8c_a299ec0c42ccc5a2d79d1739428ac3210}{intensity}} = 10
\item 
int \mbox{\hyperlink{main_8c_aad387ea7ef87850d0f52146fd98ae08d}{dutycycle}} = 0
\item 
\mbox{\hyperlink{structmemory}{memory}} \mbox{\hyperlink{main_8c_a051712116e4fe87528cf518a135e3634}{mem}} \mbox{[}\mbox{\hyperlink{main_8c_a2dcf8c45f945dd0c4301a94700f2112c}{M\+E\+M\+\_\+\+S\+I\+ZE}}\mbox{]}
\item 
int \mbox{\hyperlink{main_8c_a6162da2810386504821c770015997a94}{mem\+\_\+idx}}
\item 
\mbox{\hyperlink{structCalendar}{Calendar}} \mbox{\hyperlink{main_8c_a78752433f4fe4a459158fefc086335e5}{calendar}}
\item 
struct k\+\_\+sem \mbox{\hyperlink{main_8c_aa3be317cc13a026ab4ac872eb3e80797}{sem\+\_\+adc}}
\item 
struct k\+\_\+sem \mbox{\hyperlink{main_8c_a429f313334b1a4199142c4fc6af747fc}{sem\+\_\+act}}
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Program implementing an application that controls the light intensity of a given region. 

The system implements a system to control the light intensity of a region. It operates in tow modes, Manual and Automatic. On the Manual mode the system receives the light intensity by the buttons of the board, one increases (button 3) and the other decreases (button 4). On the Automatic mode the system controls the light intensity with a \mbox{\hyperlink{structPI}{PI}} controller. A light sensor is sampled, the samples are filtered and the real light intensity is computed and the controller is done. On the Automatic mode the light intensity to keep is given by the user that sets the time (week day, hour and minute) and light intensity in the memory. To implement this function the system as thread that implements a calendar (week da, hours and minutes). The modes of operation can be set by the board buttons, button 1 sets the Automatic mode and button 2 the manual mode. It was implemented recuuring to threads, shared-\/memory and semaphores. It was implemented using the board Nordic nrf52840-\/dk.

\begin{DoxyAuthor}{Author}
André Brandão 

Emanuel Pereira 
\end{DoxyAuthor}
\begin{DoxyDate}{Date}
18/06/2022 
\end{DoxyDate}


\doxysubsection{Macro Definition Documentation}
\mbox{\Hypertarget{main_8c_a3851a1a8ddec9eacd2e30a8a19bb8cc8}\label{main_8c_a3851a1a8ddec9eacd2e30a8a19bb8cc8}} 
\index{main.c@{main.c}!AUTOMATIC@{AUTOMATIC}}
\index{AUTOMATIC@{AUTOMATIC}!main.c@{main.c}}
\doxysubsubsection{\texorpdfstring{AUTOMATIC}{AUTOMATIC}}
{\footnotesize\ttfamily \#define A\+U\+T\+O\+M\+A\+T\+IC~1}

Flag that indicates Automatic mode is selected \mbox{\Hypertarget{main_8c_ad3c05b8933cd253785fdd123f6dbfc18}\label{main_8c_ad3c05b8933cd253785fdd123f6dbfc18}} 
\index{main.c@{main.c}!BOARDBUT1@{BOARDBUT1}}
\index{BOARDBUT1@{BOARDBUT1}!main.c@{main.c}}
\doxysubsubsection{\texorpdfstring{BOARDBUT1}{BOARDBUT1}}
{\footnotesize\ttfamily \#define B\+O\+A\+R\+D\+B\+U\+T1~0xb}

Address of Board button 1 used to turn Manual mode ON \mbox{\Hypertarget{main_8c_a590d906828bd5948fafbef47dc1c3b0c}\label{main_8c_a590d906828bd5948fafbef47dc1c3b0c}} 
\index{main.c@{main.c}!BOARDBUT2@{BOARDBUT2}}
\index{BOARDBUT2@{BOARDBUT2}!main.c@{main.c}}
\doxysubsubsection{\texorpdfstring{BOARDBUT2}{BOARDBUT2}}
{\footnotesize\ttfamily \#define B\+O\+A\+R\+D\+B\+U\+T2~0xc}

Address of Board button 2 used to turn Manual mode O\+FF \mbox{\Hypertarget{main_8c_a2e82ac21050552495e5a8551178bf258}\label{main_8c_a2e82ac21050552495e5a8551178bf258}} 
\index{main.c@{main.c}!BOARDBUT3@{BOARDBUT3}}
\index{BOARDBUT3@{BOARDBUT3}!main.c@{main.c}}
\doxysubsubsection{\texorpdfstring{BOARDBUT3}{BOARDBUT3}}
{\footnotesize\ttfamily \#define B\+O\+A\+R\+D\+B\+U\+T3~0x18}

Address of Board button 3 used to increase light intensity on manual mode \mbox{\Hypertarget{main_8c_abee96e1280405ff973ee2b6b07eec104}\label{main_8c_abee96e1280405ff973ee2b6b07eec104}} 
\index{main.c@{main.c}!BOARDBUT4@{BOARDBUT4}}
\index{BOARDBUT4@{BOARDBUT4}!main.c@{main.c}}
\doxysubsubsection{\texorpdfstring{BOARDBUT4}{BOARDBUT4}}
{\footnotesize\ttfamily \#define B\+O\+A\+R\+D\+B\+U\+T4~0x19}

Address of Board button 4 used to decrease light intensity on manual mode \mbox{\Hypertarget{main_8c_a3c302b6c124bfdb5a873e54a346b997a}\label{main_8c_a3c302b6c124bfdb5a873e54a346b997a}} 
\index{main.c@{main.c}!FILTER\_SIZE@{FILTER\_SIZE}}
\index{FILTER\_SIZE@{FILTER\_SIZE}!main.c@{main.c}}
\doxysubsubsection{\texorpdfstring{FILTER\_SIZE}{FILTER\_SIZE}}
{\footnotesize\ttfamily \#define F\+I\+L\+T\+E\+R\+\_\+\+S\+I\+ZE~10}

Window Size of samples (digital filter) \mbox{\Hypertarget{main_8c_a4c0e6f34369bef1deb3a9efae6ac14fb}\label{main_8c_a4c0e6f34369bef1deb3a9efae6ac14fb}} 
\index{main.c@{main.c}!GPIO0\_NID@{GPIO0\_NID}}
\index{GPIO0\_NID@{GPIO0\_NID}!main.c@{main.c}}
\doxysubsubsection{\texorpdfstring{GPIO0\_NID}{GPIO0\_NID}}
{\footnotesize\ttfamily \#define G\+P\+I\+O0\+\_\+\+N\+ID~D\+T\+\_\+\+N\+O\+D\+E\+L\+A\+B\+EL(gpio0)}

gpio0 Node Label from device tree (refer to dts file) \mbox{\Hypertarget{main_8c_a8187a9af791c0a44ba67edd9cf266961}\label{main_8c_a8187a9af791c0a44ba67edd9cf266961}} 
\index{main.c@{main.c}!MANUAL@{MANUAL}}
\index{MANUAL@{MANUAL}!main.c@{main.c}}
\doxysubsubsection{\texorpdfstring{MANUAL}{MANUAL}}
{\footnotesize\ttfamily \#define M\+A\+N\+U\+AL~0}

Flag that indicates Manual mode is selected \mbox{\Hypertarget{main_8c_a2dcf8c45f945dd0c4301a94700f2112c}\label{main_8c_a2dcf8c45f945dd0c4301a94700f2112c}} 
\index{main.c@{main.c}!MEM\_SIZE@{MEM\_SIZE}}
\index{MEM\_SIZE@{MEM\_SIZE}!main.c@{main.c}}
\doxysubsubsection{\texorpdfstring{MEM\_SIZE}{MEM\_SIZE}}
{\footnotesize\ttfamily \#define M\+E\+M\+\_\+\+S\+I\+ZE~10}

Schedule Memory Size \mbox{\Hypertarget{main_8c_ab48b150a8660d0152dfde25b42c1755f}\label{main_8c_ab48b150a8660d0152dfde25b42c1755f}} 
\index{main.c@{main.c}!PWM0\_NID@{PWM0\_NID}}
\index{PWM0\_NID@{PWM0\_NID}!main.c@{main.c}}
\doxysubsubsection{\texorpdfstring{PWM0\_NID}{PWM0\_NID}}
{\footnotesize\ttfamily \#define P\+W\+M0\+\_\+\+N\+ID~D\+T\+\_\+\+N\+O\+D\+E\+L\+A\+B\+EL(pwm0)}

pwm0 Node Label from device tree (refer to dts file) \mbox{\Hypertarget{main_8c_af5a48adc9d939102a42f2829b7a1b8ac}\label{main_8c_af5a48adc9d939102a42f2829b7a1b8ac}} 
\index{main.c@{main.c}!PWM\_PIN@{PWM\_PIN}}
\index{PWM\_PIN@{PWM\_PIN}!main.c@{main.c}}
\doxysubsubsection{\texorpdfstring{PWM\_PIN}{PWM\_PIN}}
{\footnotesize\ttfamily \#define P\+W\+M\+\_\+\+P\+IN~0x0e}

Address of the pin used to output pwm \mbox{\Hypertarget{main_8c_a7829e7c5c37ea8a78e879aa2028dfb21}\label{main_8c_a7829e7c5c37ea8a78e879aa2028dfb21}} 
\index{main.c@{main.c}!SAMP\_PERIOD\_MS@{SAMP\_PERIOD\_MS}}
\index{SAMP\_PERIOD\_MS@{SAMP\_PERIOD\_MS}!main.c@{main.c}}
\doxysubsubsection{\texorpdfstring{SAMP\_PERIOD\_MS}{SAMP\_PERIOD\_MS}}
{\footnotesize\ttfamily \#define S\+A\+M\+P\+\_\+\+P\+E\+R\+I\+O\+D\+\_\+\+MS~1000}

Sample period (ms) \mbox{\Hypertarget{main_8c_a6423a880df59733d2d9b509c7718d3a9}\label{main_8c_a6423a880df59733d2d9b509c7718d3a9}} 
\index{main.c@{main.c}!STACK\_SIZE@{STACK\_SIZE}}
\index{STACK\_SIZE@{STACK\_SIZE}!main.c@{main.c}}
\doxysubsubsection{\texorpdfstring{STACK\_SIZE}{STACK\_SIZE}}
{\footnotesize\ttfamily \#define S\+T\+A\+C\+K\+\_\+\+S\+I\+ZE~1024}

Size of stack area used by each thread \mbox{\Hypertarget{main_8c_ad74d90eda75d0ad6e39cbd57bd69f194}\label{main_8c_ad74d90eda75d0ad6e39cbd57bd69f194}} 
\index{main.c@{main.c}!thread\_actuation\_prio@{thread\_actuation\_prio}}
\index{thread\_actuation\_prio@{thread\_actuation\_prio}!main.c@{main.c}}
\doxysubsubsection{\texorpdfstring{thread\_actuation\_prio}{thread\_actuation\_prio}}
{\footnotesize\ttfamily \#define thread\+\_\+actuation\+\_\+prio~1}

Scheduling priority of actuation thread \mbox{\Hypertarget{main_8c_a8c3412660bfe383842b2e5cfd2311b7b}\label{main_8c_a8c3412660bfe383842b2e5cfd2311b7b}} 
\index{main.c@{main.c}!thread\_interface\_prio@{thread\_interface\_prio}}
\index{thread\_interface\_prio@{thread\_interface\_prio}!main.c@{main.c}}
\doxysubsubsection{\texorpdfstring{thread\_interface\_prio}{thread\_interface\_prio}}
{\footnotesize\ttfamily \#define thread\+\_\+interface\+\_\+prio~1}

Scheduling priority of interface thread \mbox{\Hypertarget{main_8c_a5620c118b737fef676e57cb77cc36d64}\label{main_8c_a5620c118b737fef676e57cb77cc36d64}} 
\index{main.c@{main.c}!thread\_processing\_prio@{thread\_processing\_prio}}
\index{thread\_processing\_prio@{thread\_processing\_prio}!main.c@{main.c}}
\doxysubsubsection{\texorpdfstring{thread\_processing\_prio}{thread\_processing\_prio}}
{\footnotesize\ttfamily \#define thread\+\_\+processing\+\_\+prio~1}

Scheduling priority of processing thread \mbox{\Hypertarget{main_8c_a91585133db96440dc6b21718535c5e6b}\label{main_8c_a91585133db96440dc6b21718535c5e6b}} 
\index{main.c@{main.c}!thread\_sampling\_prio@{thread\_sampling\_prio}}
\index{thread\_sampling\_prio@{thread\_sampling\_prio}!main.c@{main.c}}
\doxysubsubsection{\texorpdfstring{thread\_sampling\_prio}{thread\_sampling\_prio}}
{\footnotesize\ttfamily \#define thread\+\_\+sampling\+\_\+prio~1}

Scheduling priority of sampling thread \mbox{\Hypertarget{main_8c_a78c6fe0127b774897c218c031de92822}\label{main_8c_a78c6fe0127b774897c218c031de92822}} 
\index{main.c@{main.c}!thread\_timer\_prio@{thread\_timer\_prio}}
\index{thread\_timer\_prio@{thread\_timer\_prio}!main.c@{main.c}}
\doxysubsubsection{\texorpdfstring{thread\_timer\_prio}{thread\_timer\_prio}}
{\footnotesize\ttfamily \#define thread\+\_\+timer\+\_\+prio~1}

Scheduling priority of timer thread \mbox{\Hypertarget{main_8c_ad6e9c4cab12b06864c5162252ca67014}\label{main_8c_ad6e9c4cab12b06864c5162252ca67014}} 
\index{main.c@{main.c}!TIMER\_PERIOD\_MS@{TIMER\_PERIOD\_MS}}
\index{TIMER\_PERIOD\_MS@{TIMER\_PERIOD\_MS}!main.c@{main.c}}
\doxysubsubsection{\texorpdfstring{TIMER\_PERIOD\_MS}{TIMER\_PERIOD\_MS}}
{\footnotesize\ttfamily \#define T\+I\+M\+E\+R\+\_\+\+P\+E\+R\+I\+O\+D\+\_\+\+MS~60000}

Timer (calendar) thread period (ms) -\/ 1 minute 

\doxysubsection{Function Documentation}
\mbox{\Hypertarget{main_8c_a2cfe3ada4d11f7cae109258730b290ae}\label{main_8c_a2cfe3ada4d11f7cae109258730b290ae}} 
\index{main.c@{main.c}!array\_average@{array\_average}}
\index{array\_average@{array\_average}!main.c@{main.c}}
\doxysubsubsection{\texorpdfstring{array\_average()}{array\_average()}}
{\footnotesize\ttfamily int array\+\_\+average (\begin{DoxyParamCaption}\item[{int $\ast$}]{data,  }\item[{int}]{size }\end{DoxyParamCaption})}



Function to compute the average of an array. 

This function computes the average of an array of integers.


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em data} & pointer to array \\
\hline
\mbox{\texttt{ in}}  & {\em size} & number of elements of the array\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
average of the array (integer type) 
\end{DoxyReturn}
\mbox{\Hypertarget{main_8c_ad080fc6eefeef84b6b9d1521a07ce96b}\label{main_8c_ad080fc6eefeef84b6b9d1521a07ce96b}} 
\index{main.c@{main.c}!array\_init@{array\_init}}
\index{array\_init@{array\_init}!main.c@{main.c}}
\doxysubsubsection{\texorpdfstring{array\_init()}{array\_init()}}
{\footnotesize\ttfamily void array\+\_\+init (\begin{DoxyParamCaption}\item[{int $\ast$}]{data,  }\item[{int}]{size }\end{DoxyParamCaption})}



Function to initialize integer array. 

This function fills an integer array with zeros


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em data} & pointer to array \\
\hline
\mbox{\texttt{ in}}  & {\em size} & number of elements of the array \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{main_8c_a184a24e6ee12174ebd80e42c8f952cfd}\label{main_8c_a184a24e6ee12174ebd80e42c8f952cfd}} 
\index{main.c@{main.c}!buttons\_cbfunction@{buttons\_cbfunction}}
\index{buttons\_cbfunction@{buttons\_cbfunction}!main.c@{main.c}}
\doxysubsubsection{\texorpdfstring{buttons\_cbfunction()}{buttons\_cbfunction()}}
{\footnotesize\ttfamily void buttons\+\_\+cbfunction (\begin{DoxyParamCaption}\item[{const struct device $\ast$}]{dev,  }\item[{struct gpio\+\_\+callback $\ast$}]{cb,  }\item[{uint32\+\_\+t}]{pins }\end{DoxyParamCaption})}



Callback function of the interrupt from the four board buttons. 

Interrupt function of four buttons that allow to control the mode of the system operation (M\+A\+N\+U\+AL or A\+U\+T\+O\+M\+A\+T\+IC) and to increase or decrease the light intensity when on manual mode. \mbox{\Hypertarget{main_8c_a68bb8c8a55e87d1d3e879f3186c08efc}\label{main_8c_a68bb8c8a55e87d1d3e879f3186c08efc}} 
\index{main.c@{main.c}!filter@{filter}}
\index{filter@{filter}!main.c@{main.c}}
\doxysubsubsection{\texorpdfstring{filter()}{filter()}}
{\footnotesize\ttfamily int filter (\begin{DoxyParamCaption}\item[{int $\ast$}]{data }\end{DoxyParamCaption})}



Function to implement a digital filter. 

This function implements a digital filter that removes the outliers (10\% or high deviation from average) from a set of data and computes the average of the remaining samples. ~\newline



\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em data} & pointer to array\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
average of the data without the outliers 
\end{DoxyReturn}
\mbox{\Hypertarget{main_8c_a0145d2779f99dabdb58535a77d802575}\label{main_8c_a0145d2779f99dabdb58535a77d802575}} 
\index{main.c@{main.c}!input\_output\_config@{input\_output\_config}}
\index{input\_output\_config@{input\_output\_config}!main.c@{main.c}}
\doxysubsubsection{\texorpdfstring{input\_output\_config()}{input\_output\_config()}}
{\footnotesize\ttfamily void input\+\_\+output\+\_\+config (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



Configuration Function. 

This function makes all the hardware configuration. Configures the input and output pins and the interruptions of the microcontroller. \mbox{\Hypertarget{main_8c_a548d30e3288a3adc33006169b3023238}\label{main_8c_a548d30e3288a3adc33006169b3023238}} 
\index{main.c@{main.c}!K\_THREAD\_STACK\_DEFINE@{K\_THREAD\_STACK\_DEFINE}}
\index{K\_THREAD\_STACK\_DEFINE@{K\_THREAD\_STACK\_DEFINE}!main.c@{main.c}}
\doxysubsubsection{\texorpdfstring{K\_THREAD\_STACK\_DEFINE()}{K\_THREAD\_STACK\_DEFINE()}\hspace{0.1cm}{\footnotesize\ttfamily [1/5]}}
{\footnotesize\ttfamily K\+\_\+\+T\+H\+R\+E\+A\+D\+\_\+\+S\+T\+A\+C\+K\+\_\+\+D\+E\+F\+I\+NE (\begin{DoxyParamCaption}\item[{thread\+\_\+actuation\+\_\+stack}]{,  }\item[{\mbox{\hyperlink{main_8c_a6423a880df59733d2d9b509c7718d3a9}{S\+T\+A\+C\+K\+\_\+\+S\+I\+ZE}}}]{ }\end{DoxyParamCaption})}

Create actuation thread stack space \mbox{\Hypertarget{main_8c_a74e081acfd5bb89595459f375532975f}\label{main_8c_a74e081acfd5bb89595459f375532975f}} 
\index{main.c@{main.c}!K\_THREAD\_STACK\_DEFINE@{K\_THREAD\_STACK\_DEFINE}}
\index{K\_THREAD\_STACK\_DEFINE@{K\_THREAD\_STACK\_DEFINE}!main.c@{main.c}}
\doxysubsubsection{\texorpdfstring{K\_THREAD\_STACK\_DEFINE()}{K\_THREAD\_STACK\_DEFINE()}\hspace{0.1cm}{\footnotesize\ttfamily [2/5]}}
{\footnotesize\ttfamily K\+\_\+\+T\+H\+R\+E\+A\+D\+\_\+\+S\+T\+A\+C\+K\+\_\+\+D\+E\+F\+I\+NE (\begin{DoxyParamCaption}\item[{thread\+\_\+interface\+\_\+stack}]{,  }\item[{\mbox{\hyperlink{main_8c_a6423a880df59733d2d9b509c7718d3a9}{S\+T\+A\+C\+K\+\_\+\+S\+I\+ZE}}}]{ }\end{DoxyParamCaption})}

Create interface thread stack space \mbox{\Hypertarget{main_8c_a60b0d6ae7ba79d10f65ff3dc5ecd1b4a}\label{main_8c_a60b0d6ae7ba79d10f65ff3dc5ecd1b4a}} 
\index{main.c@{main.c}!K\_THREAD\_STACK\_DEFINE@{K\_THREAD\_STACK\_DEFINE}}
\index{K\_THREAD\_STACK\_DEFINE@{K\_THREAD\_STACK\_DEFINE}!main.c@{main.c}}
\doxysubsubsection{\texorpdfstring{K\_THREAD\_STACK\_DEFINE()}{K\_THREAD\_STACK\_DEFINE()}\hspace{0.1cm}{\footnotesize\ttfamily [3/5]}}
{\footnotesize\ttfamily K\+\_\+\+T\+H\+R\+E\+A\+D\+\_\+\+S\+T\+A\+C\+K\+\_\+\+D\+E\+F\+I\+NE (\begin{DoxyParamCaption}\item[{thread\+\_\+processing\+\_\+stack}]{,  }\item[{\mbox{\hyperlink{main_8c_a6423a880df59733d2d9b509c7718d3a9}{S\+T\+A\+C\+K\+\_\+\+S\+I\+ZE}}}]{ }\end{DoxyParamCaption})}

Create processing thread stack space \mbox{\Hypertarget{main_8c_aed504b09e3fbdcd75329b4f263f87180}\label{main_8c_aed504b09e3fbdcd75329b4f263f87180}} 
\index{main.c@{main.c}!K\_THREAD\_STACK\_DEFINE@{K\_THREAD\_STACK\_DEFINE}}
\index{K\_THREAD\_STACK\_DEFINE@{K\_THREAD\_STACK\_DEFINE}!main.c@{main.c}}
\doxysubsubsection{\texorpdfstring{K\_THREAD\_STACK\_DEFINE()}{K\_THREAD\_STACK\_DEFINE()}\hspace{0.1cm}{\footnotesize\ttfamily [4/5]}}
{\footnotesize\ttfamily K\+\_\+\+T\+H\+R\+E\+A\+D\+\_\+\+S\+T\+A\+C\+K\+\_\+\+D\+E\+F\+I\+NE (\begin{DoxyParamCaption}\item[{thread\+\_\+sampling\+\_\+stack}]{,  }\item[{\mbox{\hyperlink{main_8c_a6423a880df59733d2d9b509c7718d3a9}{S\+T\+A\+C\+K\+\_\+\+S\+I\+ZE}}}]{ }\end{DoxyParamCaption})}

Create sampling thread stack space \mbox{\Hypertarget{main_8c_af4124be44857968ab478da5cf4830789}\label{main_8c_af4124be44857968ab478da5cf4830789}} 
\index{main.c@{main.c}!K\_THREAD\_STACK\_DEFINE@{K\_THREAD\_STACK\_DEFINE}}
\index{K\_THREAD\_STACK\_DEFINE@{K\_THREAD\_STACK\_DEFINE}!main.c@{main.c}}
\doxysubsubsection{\texorpdfstring{K\_THREAD\_STACK\_DEFINE()}{K\_THREAD\_STACK\_DEFINE()}\hspace{0.1cm}{\footnotesize\ttfamily [5/5]}}
{\footnotesize\ttfamily K\+\_\+\+T\+H\+R\+E\+A\+D\+\_\+\+S\+T\+A\+C\+K\+\_\+\+D\+E\+F\+I\+NE (\begin{DoxyParamCaption}\item[{thread\+\_\+timer\+\_\+stack}]{,  }\item[{\mbox{\hyperlink{main_8c_a6423a880df59733d2d9b509c7718d3a9}{S\+T\+A\+C\+K\+\_\+\+S\+I\+ZE}}}]{ }\end{DoxyParamCaption})}

Create timer (calendar) thread stack space \mbox{\Hypertarget{main_8c_a6288eba0f8e8ad3ab1544ad731eb7667}\label{main_8c_a6288eba0f8e8ad3ab1544ad731eb7667}} 
\index{main.c@{main.c}!main@{main}}
\index{main@{main}!main.c@{main.c}}
\doxysubsubsection{\texorpdfstring{main()}{main()}}
{\footnotesize\ttfamily void main (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



Main function. 

The main function initializes the semaphores and creates the threads \mbox{\Hypertarget{main_8c_af310540093ee953c3018bc13bbde3da5}\label{main_8c_af310540093ee953c3018bc13bbde3da5}} 
\index{main.c@{main.c}!read\_int@{read\_int}}
\index{read\_int@{read\_int}!main.c@{main.c}}
\doxysubsubsection{\texorpdfstring{read\_int()}{read\_int()}}
{\footnotesize\ttfamily int read\+\_\+int (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Function to read integer values from user. 

\begin{DoxyPrecond}{Precondition}
Initialize console with console\+\_\+init()
\end{DoxyPrecond}
Reads and returns integer until enter key is pressed (carriage return -\/ \textbackslash{}r) It also makes the echo of the key pressed. Uses the console\+\_\+getchar() function. Limited to 6 digit number, increase the size of the char vector c, to allow numbers with more digits.

\begin{DoxySeeAlso}{See also}
console\+\_\+init() 

console\+\_\+getchar() 
\end{DoxySeeAlso}
\mbox{\Hypertarget{main_8c_a116f5dda3e3079992fc8cb4f8f59e11f}\label{main_8c_a116f5dda3e3079992fc8cb4f8f59e11f}} 
\index{main.c@{main.c}!thread\_actuation@{thread\_actuation}}
\index{thread\_actuation@{thread\_actuation}!main.c@{main.c}}
\doxysubsubsection{\texorpdfstring{thread\_actuation()}{thread\_actuation()}}
{\footnotesize\ttfamily void thread\+\_\+actuation (\begin{DoxyParamCaption}\item[{void $\ast$}]{argA,  }\item[{void $\ast$}]{argB,  }\item[{void $\ast$}]{argC }\end{DoxyParamCaption})}



Actuation thread. 

This thread implements the task of actuation, it\textquotesingle{}s triggered by the change of the required light intensity (buttons 3 or 4) on Manual mode or by the end of the processing thread when on Automatic mode. It computes and updates the pulse width of the pwm signal from the intensity value (when on Manual mode) or from the dutycycle value (when on Automatic mode). It\textquotesingle{}s a sporadic thread triggered by the press of button 3 or button 4 or by the end of processing (processing thread), based on the operation mode. \mbox{\Hypertarget{main_8c_a570350429544cf99b11c32e1f6bf0b5a}\label{main_8c_a570350429544cf99b11c32e1f6bf0b5a}} 
\index{main.c@{main.c}!thread\_interface@{thread\_interface}}
\index{thread\_interface@{thread\_interface}!main.c@{main.c}}
\doxysubsubsection{\texorpdfstring{thread\_interface()}{thread\_interface()}}
{\footnotesize\ttfamily void thread\+\_\+interface (\begin{DoxyParamCaption}\item[{void $\ast$}]{argA,  }\item[{void $\ast$}]{argB,  }\item[{void $\ast$}]{argC }\end{DoxyParamCaption})}



Thread to implement the user interface. 

This thread implements the user interface, let\textquotesingle{}s the user add new schedules configurations, check them and change the current date and hour. \mbox{\Hypertarget{main_8c_ac6cd5cbb553e2ad23e28ad0a1074c8b0}\label{main_8c_ac6cd5cbb553e2ad23e28ad0a1074c8b0}} 
\index{main.c@{main.c}!thread\_processing@{thread\_processing}}
\index{thread\_processing@{thread\_processing}!main.c@{main.c}}
\doxysubsubsection{\texorpdfstring{thread\_processing()}{thread\_processing()}}
{\footnotesize\ttfamily void thread\+\_\+processing (\begin{DoxyParamCaption}\item[{void $\ast$}]{argA,  }\item[{void $\ast$}]{argB,  }\item[{void $\ast$}]{argC }\end{DoxyParamCaption})}



Processing thread. 

This thread implements the task of processing. It filters the data samples and updates the average of the filtered data samples. It\textquotesingle{}s a sporadic thread triggered by the end of sampling (sampling thread) and as such only operates on Automatic mode. After processing triggers the actuation task.

\begin{DoxySeeAlso}{See also}
filter(uint16\+\_\+t $\ast$data) 
\end{DoxySeeAlso}
\mbox{\Hypertarget{main_8c_a9dd5adc8098fcc8d9bd5eeb53ad776b3}\label{main_8c_a9dd5adc8098fcc8d9bd5eeb53ad776b3}} 
\index{main.c@{main.c}!thread\_sampling@{thread\_sampling}}
\index{thread\_sampling@{thread\_sampling}!main.c@{main.c}}
\doxysubsubsection{\texorpdfstring{thread\_sampling()}{thread\_sampling()}}
{\footnotesize\ttfamily void thread\+\_\+sampling (\begin{DoxyParamCaption}\item[{void $\ast$}]{argA,  }\item[{void $\ast$}]{argB,  }\item[{void $\ast$}]{argC }\end{DoxyParamCaption})}



Sampling thread. 

This thread implements the sampling task which only operates in Automatic mode. It\textquotesingle{}s a periodic thread that reads the adc with period S\+A\+M\+P\+\_\+\+P\+E\+R\+I\+O\+D\+\_\+\+MS and stores it in the sample buffer. After sampling triggers the processing task.

\begin{DoxyPrecond}{Precondition}
\mbox{\hyperlink{ADC_8c_a5f5884b69950f439de5d6c472366c3af}{adc\+\_\+sample()}}
\end{DoxyPrecond}
\begin{DoxySeeAlso}{See also}
\mbox{\hyperlink{main_8c_a7829e7c5c37ea8a78e879aa2028dfb21}{S\+A\+M\+P\+\_\+\+P\+E\+R\+I\+O\+D\+\_\+\+MS}} 
\end{DoxySeeAlso}
\mbox{\Hypertarget{main_8c_ad64b132dcdc592a77b0fb25967f3377a}\label{main_8c_ad64b132dcdc592a77b0fb25967f3377a}} 
\index{main.c@{main.c}!thread\_timer@{thread\_timer}}
\index{thread\_timer@{thread\_timer}!main.c@{main.c}}
\doxysubsubsection{\texorpdfstring{thread\_timer()}{thread\_timer()}}
{\footnotesize\ttfamily void thread\+\_\+timer (\begin{DoxyParamCaption}\item[{void $\ast$}]{argA,  }\item[{void $\ast$}]{argB,  }\item[{void $\ast$}]{argC }\end{DoxyParamCaption})}



Timer thread to implement a calendar. 

This thread is a periodic thread with period 1 minute (T\+I\+M\+E\+R\+\_\+\+P\+E\+R\+I\+O\+D\+\_\+\+MS), to update the day, hour and minutes 

\doxysubsection{Variable Documentation}
\mbox{\Hypertarget{main_8c_a78752433f4fe4a459158fefc086335e5}\label{main_8c_a78752433f4fe4a459158fefc086335e5}} 
\index{main.c@{main.c}!calendar@{calendar}}
\index{calendar@{calendar}!main.c@{main.c}}
\doxysubsubsection{\texorpdfstring{calendar}{calendar}}
{\footnotesize\ttfamily \mbox{\hyperlink{structCalendar}{Calendar}} calendar}

\mbox{\hyperlink{structCalendar}{Calendar}} \mbox{\Hypertarget{main_8c_aad387ea7ef87850d0f52146fd98ae08d}\label{main_8c_aad387ea7ef87850d0f52146fd98ae08d}} 
\index{main.c@{main.c}!dutycycle@{dutycycle}}
\index{dutycycle@{dutycycle}!main.c@{main.c}}
\doxysubsubsection{\texorpdfstring{dutycycle}{dutycycle}}
{\footnotesize\ttfamily int dutycycle = 0}

P\+WM dutycycle \mbox{\Hypertarget{main_8c_a299ec0c42ccc5a2d79d1739428ac3210}\label{main_8c_a299ec0c42ccc5a2d79d1739428ac3210}} 
\index{main.c@{main.c}!intensity@{intensity}}
\index{intensity@{intensity}!main.c@{main.c}}
\doxysubsubsection{\texorpdfstring{intensity}{intensity}}
{\footnotesize\ttfamily int intensity = 10}

Light intensity \mbox{\Hypertarget{main_8c_a051712116e4fe87528cf518a135e3634}\label{main_8c_a051712116e4fe87528cf518a135e3634}} 
\index{main.c@{main.c}!mem@{mem}}
\index{mem@{mem}!main.c@{main.c}}
\doxysubsubsection{\texorpdfstring{mem}{mem}}
{\footnotesize\ttfamily \mbox{\hyperlink{structmemory}{memory}} mem\mbox{[}\mbox{\hyperlink{main_8c_a2dcf8c45f945dd0c4301a94700f2112c}{M\+E\+M\+\_\+\+S\+I\+ZE}}\mbox{]}}

Memory to store user data \mbox{\Hypertarget{main_8c_a6162da2810386504821c770015997a94}\label{main_8c_a6162da2810386504821c770015997a94}} 
\index{main.c@{main.c}!mem\_idx@{mem\_idx}}
\index{mem\_idx@{mem\_idx}!main.c@{main.c}}
\doxysubsubsection{\texorpdfstring{mem\_idx}{mem\_idx}}
{\footnotesize\ttfamily int mem\+\_\+idx}

Memory index to store data \mbox{\Hypertarget{main_8c_a1ea5d0cb93f22f7d0fdf804bd68c3326}\label{main_8c_a1ea5d0cb93f22f7d0fdf804bd68c3326}} 
\index{main.c@{main.c}!mode@{mode}}
\index{mode@{mode}!main.c@{main.c}}
\doxysubsubsection{\texorpdfstring{mode}{mode}}
{\footnotesize\ttfamily int mode = \mbox{\hyperlink{main_8c_a8187a9af791c0a44ba67edd9cf266961}{M\+A\+N\+U\+AL}}}

System operation mode (M\+A\+N\+U\+AL or A\+U\+T\+O\+M\+A\+T\+IC) \mbox{\Hypertarget{main_8c_a34b9caf9a2b0b317320608e2af144e86}\label{main_8c_a34b9caf9a2b0b317320608e2af144e86}} 
\index{main.c@{main.c}!sample\_buffer@{sample\_buffer}}
\index{sample\_buffer@{sample\_buffer}!main.c@{main.c}}
\doxysubsubsection{\texorpdfstring{sample\_buffer}{sample\_buffer}}
{\footnotesize\ttfamily \mbox{\hyperlink{structbuffer}{buffer}} sample\+\_\+buffer}

Buffer to store samples to communicate between tasks \mbox{\Hypertarget{main_8c_a429f313334b1a4199142c4fc6af747fc}\label{main_8c_a429f313334b1a4199142c4fc6af747fc}} 
\index{main.c@{main.c}!sem\_act@{sem\_act}}
\index{sem\_act@{sem\_act}!main.c@{main.c}}
\doxysubsubsection{\texorpdfstring{sem\_act}{sem\_act}}
{\footnotesize\ttfamily struct k\+\_\+sem sem\+\_\+act}

Semaphore to trigger actuation thread \mbox{\Hypertarget{main_8c_aa3be317cc13a026ab4ac872eb3e80797}\label{main_8c_aa3be317cc13a026ab4ac872eb3e80797}} 
\index{main.c@{main.c}!sem\_adc@{sem\_adc}}
\index{sem\_adc@{sem\_adc}!main.c@{main.c}}
\doxysubsubsection{\texorpdfstring{sem\_adc}{sem\_adc}}
{\footnotesize\ttfamily struct k\+\_\+sem sem\+\_\+adc}

Semaphore to synch sample and actuation tasks (signals end of sampling) \mbox{\Hypertarget{main_8c_a9a0bf1249db244ace268c06987aa8bc3}\label{main_8c_a9a0bf1249db244ace268c06987aa8bc3}} 
\index{main.c@{main.c}!thread\_actuation\_data@{thread\_actuation\_data}}
\index{thread\_actuation\_data@{thread\_actuation\_data}!main.c@{main.c}}
\doxysubsubsection{\texorpdfstring{thread\_actuation\_data}{thread\_actuation\_data}}
{\footnotesize\ttfamily struct k\+\_\+thread thread\+\_\+actuation\+\_\+data}

Actuation thread data \mbox{\Hypertarget{main_8c_a3dec149768a6eae4f33afb78a0fba16a}\label{main_8c_a3dec149768a6eae4f33afb78a0fba16a}} 
\index{main.c@{main.c}!thread\_actuation\_tid@{thread\_actuation\_tid}}
\index{thread\_actuation\_tid@{thread\_actuation\_tid}!main.c@{main.c}}
\doxysubsubsection{\texorpdfstring{thread\_actuation\_tid}{thread\_actuation\_tid}}
{\footnotesize\ttfamily k\+\_\+tid\+\_\+t thread\+\_\+actuation\+\_\+tid}

Actuation thread task ID \mbox{\Hypertarget{main_8c_af6d2603321c94cea6aaf2350aabf3831}\label{main_8c_af6d2603321c94cea6aaf2350aabf3831}} 
\index{main.c@{main.c}!thread\_interface\_data@{thread\_interface\_data}}
\index{thread\_interface\_data@{thread\_interface\_data}!main.c@{main.c}}
\doxysubsubsection{\texorpdfstring{thread\_interface\_data}{thread\_interface\_data}}
{\footnotesize\ttfamily struct k\+\_\+thread thread\+\_\+interface\+\_\+data}

Interface thread data \mbox{\Hypertarget{main_8c_a4f511736d4814efc5a2858ac5b0712f3}\label{main_8c_a4f511736d4814efc5a2858ac5b0712f3}} 
\index{main.c@{main.c}!thread\_interface\_tid@{thread\_interface\_tid}}
\index{thread\_interface\_tid@{thread\_interface\_tid}!main.c@{main.c}}
\doxysubsubsection{\texorpdfstring{thread\_interface\_tid}{thread\_interface\_tid}}
{\footnotesize\ttfamily k\+\_\+tid\+\_\+t thread\+\_\+interface\+\_\+tid}

Interface thread task ID \mbox{\Hypertarget{main_8c_a0d5266f8e4ee9131f1499bc89f35146a}\label{main_8c_a0d5266f8e4ee9131f1499bc89f35146a}} 
\index{main.c@{main.c}!thread\_processing\_data@{thread\_processing\_data}}
\index{thread\_processing\_data@{thread\_processing\_data}!main.c@{main.c}}
\doxysubsubsection{\texorpdfstring{thread\_processing\_data}{thread\_processing\_data}}
{\footnotesize\ttfamily struct k\+\_\+thread thread\+\_\+processing\+\_\+data}

Processing thread data \mbox{\Hypertarget{main_8c_ad695b944931709e9377a32f2f67579ae}\label{main_8c_ad695b944931709e9377a32f2f67579ae}} 
\index{main.c@{main.c}!thread\_processing\_tid@{thread\_processing\_tid}}
\index{thread\_processing\_tid@{thread\_processing\_tid}!main.c@{main.c}}
\doxysubsubsection{\texorpdfstring{thread\_processing\_tid}{thread\_processing\_tid}}
{\footnotesize\ttfamily k\+\_\+tid\+\_\+t thread\+\_\+processing\+\_\+tid}

Processing thread task ID \mbox{\Hypertarget{main_8c_a0e7f1b0a6ba03822803b25f00d855550}\label{main_8c_a0e7f1b0a6ba03822803b25f00d855550}} 
\index{main.c@{main.c}!thread\_sampling\_data@{thread\_sampling\_data}}
\index{thread\_sampling\_data@{thread\_sampling\_data}!main.c@{main.c}}
\doxysubsubsection{\texorpdfstring{thread\_sampling\_data}{thread\_sampling\_data}}
{\footnotesize\ttfamily struct k\+\_\+thread thread\+\_\+sampling\+\_\+data}

Sampling thread data \mbox{\Hypertarget{main_8c_affec45d15496ae9963fe20d598aee1ef}\label{main_8c_affec45d15496ae9963fe20d598aee1ef}} 
\index{main.c@{main.c}!thread\_sampling\_tid@{thread\_sampling\_tid}}
\index{thread\_sampling\_tid@{thread\_sampling\_tid}!main.c@{main.c}}
\doxysubsubsection{\texorpdfstring{thread\_sampling\_tid}{thread\_sampling\_tid}}
{\footnotesize\ttfamily k\+\_\+tid\+\_\+t thread\+\_\+sampling\+\_\+tid}

Sampling thread task ID \mbox{\Hypertarget{main_8c_a42ee5857ab68d7b608277ebfbdfcd873}\label{main_8c_a42ee5857ab68d7b608277ebfbdfcd873}} 
\index{main.c@{main.c}!thread\_timer\_data@{thread\_timer\_data}}
\index{thread\_timer\_data@{thread\_timer\_data}!main.c@{main.c}}
\doxysubsubsection{\texorpdfstring{thread\_timer\_data}{thread\_timer\_data}}
{\footnotesize\ttfamily struct k\+\_\+thread thread\+\_\+timer\+\_\+data}

Timer (calendar) thread data \mbox{\Hypertarget{main_8c_a19ca028edd2bfa2ce623d094531be2a8}\label{main_8c_a19ca028edd2bfa2ce623d094531be2a8}} 
\index{main.c@{main.c}!thread\_timer\_tid@{thread\_timer\_tid}}
\index{thread\_timer\_tid@{thread\_timer\_tid}!main.c@{main.c}}
\doxysubsubsection{\texorpdfstring{thread\_timer\_tid}{thread\_timer\_tid}}
{\footnotesize\ttfamily k\+\_\+tid\+\_\+t thread\+\_\+timer\+\_\+tid}

Timer thread task ID 